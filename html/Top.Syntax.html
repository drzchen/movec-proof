<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Top.Syntax</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Top.Syntax</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Compare_dec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Arith.EqNat.html#"><span class="id" title="library">EqNat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Top.Types.html#"><span class="id" title="library">Types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Top.Envs.html#"><span class="id" title="library">Envs</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h1 class="section">Syntax of C fragment</h1>

<div class="paragraph"> </div>

  The section gives the fragment of C used in our proof.
  Commands <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_cmd"><span class="id" title="inductive">c_cmd</span></a></span> consist of empty commands <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Skip"><span class="id" title="constructor">C_Skip</span></a></span>,
  straight-line sequence of commands <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Seq"><span class="id" title="constructor">C_Seq</span></a></span>, assignments <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Assign"><span class="id" title="constructor">C_Assign</span></a></span>,
  function calls <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Call"><span class="id" title="constructor">C_Call</span></a></span>, and <i>free</i> <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Free"><span class="id" title="constructor">C_Free</span></a></span>.

<div class="paragraph"> </div>

  Functions calls declare local variables, but have no arguments or results.
  We also assume that there is a partial map <span class="inlinecode"><a class="idref" href="Top.Syntax.html#funTable"><span class="id" title="axiom">funTable</span></a></span> from function names or
  addresses to function definitions generated by the compiler. A function
  definition includes a frame which consists of local variables, and a sequence
  of commands.

<div class="paragraph"> </div>

  Assignments update the memory pointed by left-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a></span> by
  right-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a></span>. The left-hand-side of an assignment is either
  a variable name <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Var"><span class="id" title="constructor">C_Var</span></a></span>, a pointer dereference <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Deref"><span class="id" title="constructor">C_Deref</span></a></span>, the field of an
  anonymous struct <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_StructPos"><span class="id" title="constructor">C_StructPos</span></a></span>, or the field of a named struct <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_NamePos"><span class="id" title="constructor">C_NamePos</span></a></span>.
  The right-hand-side of an assignment can be an integer constant <span class="inlinecode"><span class="id" title="var">C_Cons</span></span>,
  the size of a referent type <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Size"><span class="id" title="constructor">C_Size</span></a></span>, a function name <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Fun"><span class="id" title="constructor">C_Fun</span></a></span>,
  a left-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Lhs"><span class="id" title="constructor">C_Lhs</span></a></span>, the address of a left-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Ref"><span class="id" title="constructor">C_Ref</span></a></span>,
  the result of a cast <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Cast"><span class="id" title="constructor">C_Cast</span></a></span>, the result of an arithmetic operation <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Add"><span class="id" title="constructor">C_Add</span></a></span>,
  or the result of <i>malloc</i> <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Alloc"><span class="id" title="constructor">C_Alloc</span></a></span>. We assume that the compiler
  generates some type information which is useful for the proofs. For example,
  we need to know the result type (pointer types) of the address-of and malloc.

<div class="paragraph"> </div>

  Because the syntax only includes a simple function call that does not have
  inputs and return results, we explicitly define <i>malloc</i> as a
  right-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Alloc"><span class="id" title="constructor">C_Alloc</span></a></span>, and <i>free</i> as a command <span class="inlinecode"><a class="idref" href="Top.Syntax.html#C_Free"><span class="id" title="constructor">C_Free</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="c_lhs" class="idref" href="#c_lhs"><span class="id" title="inductive">c_lhs</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="C_Var" class="idref" href="#C_Var"><span class="id" title="constructor">C_Var</span></a> : <a class="idref" href="Top.Envs.html#Var"><span class="id" title="definition">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a>                    <br/>
&nbsp;&nbsp;| <a id="C_Deref" class="idref" href="#C_Deref"><span class="id" title="constructor">C_Deref</span></a> : <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a>                <br/>
&nbsp;&nbsp;| <a id="C_StructPos" class="idref" href="#C_StructPos"><span class="id" title="constructor">C_StructPos</span></a> : <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Types.html#c_ident"><span class="id" title="definition">c_ident</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a> <br/>
&nbsp;&nbsp;| <a id="C_NamePos" class="idref" href="#C_NamePos"><span class="id" title="constructor">C_NamePos</span></a> : <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Types.html#c_ident"><span class="id" title="definition">c_ident</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs:1"><span class="id" title="inductive">c_lhs</span></a>   <br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="c_rhs" class="idref" href="#c_rhs"><span class="id" title="inductive">c_rhs</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="C_Const" class="idref" href="#C_Const"><span class="id" title="constructor">C_Const</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>            <br/>
&nbsp;&nbsp;| <a id="C_Size" class="idref" href="#C_Size"><span class="id" title="constructor">C_Size</span></a> : <a class="idref" href="Top.Types.html#RType"><span class="id" title="inductive">RType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>           <br/>
&nbsp;&nbsp;| <a id="C_Fun" class="idref" href="#C_Fun"><span class="id" title="constructor">C_Fun</span></a> : <a class="idref" href="Top.Envs.html#Fun"><span class="id" title="definition">Fun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>              <br/>
&nbsp;&nbsp;| <a id="C_Lhs" class="idref" href="#C_Lhs"><span class="id" title="constructor">C_Lhs</span></a> : <a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>            <br/>
&nbsp;&nbsp;| <a id="C_Ref" class="idref" href="#C_Ref"><span class="id" title="constructor">C_Ref</span></a> : <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>   <br/>
&nbsp;&nbsp;| <a id="C_Cast" class="idref" href="#C_Cast"><span class="id" title="constructor">C_Cast</span></a> : <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>  <br/>
&nbsp;&nbsp;| <a id="C_Add" class="idref" href="#C_Add"><span class="id" title="constructor">C_Add</span></a> : <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a>   <br/>
&nbsp;&nbsp;| <a id="C_Alloc" class="idref" href="#C_Alloc"><span class="id" title="constructor">C_Alloc</span></a> : <a class="idref" href="Top.Types.html#RType"><span class="id" title="inductive">RType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs:3"><span class="id" title="inductive">c_rhs</span></a> <br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="c_cmd" class="idref" href="#c_cmd"><span class="id" title="inductive">c_cmd</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="C_Skip" class="idref" href="#C_Skip"><span class="id" title="constructor">C_Skip</span></a> : <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a>                     <br/>
&nbsp;&nbsp;| <a id="C_Seq" class="idref" href="#C_Seq"><span class="id" title="constructor">C_Seq</span></a> : <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a>    <br/>
&nbsp;&nbsp;| <a id="C_Assign" class="idref" href="#C_Assign"><span class="id" title="constructor">C_Assign</span></a> : <a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a> <br/>
&nbsp;&nbsp;| <a id="C_Call" class="idref" href="#C_Call"><span class="id" title="constructor">C_Call</span></a> : <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a>            <br/>
&nbsp;&nbsp;| <a id="C_Free" class="idref" href="#C_Free"><span class="id" title="constructor">C_Free</span></a> : <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd:5"><span class="id" title="inductive">c_cmd</span></a>            <br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a id="funTable" class="idref" href="#funTable"><span class="id" title="axiom">funTable</span></a> : <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Top.Syntax.html#c_cmd"><span class="id" title="inductive">c_cmd</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="validFun" class="idref" href="#validFun"><span class="id" title="axiom">validFun</span></a> : <span class="id" title="keyword">∀</span> <a id="E:8" class="idref" href="#E:8"><span class="id" title="binder">E</span></a> (<a id="fid:9" class="idref" href="#fid:9"><span class="id" title="binder">fid</span></a>: <a class="idref" href="Top.Envs.html#Fun"><span class="id" title="definition">Fun</span></a>) <a id="fr:10" class="idref" href="#fr:10"><span class="id" title="binder">fr</span></a> <a id="c:11" class="idref" href="#c:11"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#funTable"><span class="id" title="axiom">funTable</span></a> (<a class="idref" href="Top.Syntax.html#C_Fun"><span class="id" title="constructor">C_Fun</span></a> <a class="idref" href="Top.Syntax.html#fid:9"><span class="id" title="variable">fid</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Syntax.html#fr:10"><span class="id" title="variable">fr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.Syntax.html#c:11"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.Envs.html#funAddress"><span class="id" title="axiom">funAddress</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">≤</span></a> <a class="idref" href="Top.Syntax.html#fid:9"><span class="id" title="variable">fid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Top.Envs.html#minAddress"><span class="id" title="axiom">minAddress</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.Envs.html#validAddress"><span class="id" title="definition">validAddress</span></a> <a class="idref" href="Top.Syntax.html#E:8"><span class="id" title="variable">E</span></a>.(<a class="idref" href="Top.Envs.html#mem"><span class="id" title="projection">mem</span></a>) <a class="idref" href="Top.Syntax.html#fid:9"><span class="id" title="variable">fid</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h1 class="section">Well-formedness</h1>

<div class="paragraph"> </div>

  Our Coq proof defines a well-formedness predicate on syntax that
  picks out a subset of programs with these invariants. 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

  <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span>, <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span> |-lhs <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a></span> : <span class="inlinecode"><a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a></span> defines a well-formed
  left-hand-side that ensures that each variable in a left-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a></span>
  has an atomic type <span class="inlinecode"><a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a></span> assigned by global variables <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span> or
  stack frames <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span>.

<div class="paragraph"> </div>

  A global variable vid is with type a if it is not defined in the local stack
  frame, and global variables map vid into a well-formed type a.
<pre>
     fr(vid) = None
     G(vid) = (loc, a)
     |-a a
    -------------------- :: WF_GVar
     G, fr |-lhs vid: a
</pre>
  A local variable vid is with type a if it is defined in the stack frame with
  a well-formed type a.
<pre>
     fr(vid) = a
     |-a a
    -------------------- :: WF_SVar
     G, fr |-lhs vid: a
</pre>
  A pointer dereference *lhs is of type a if lhs is of type a*.
<pre>
     G, fr |-lhs lhs: a*
    --------------------- :: WF_Deref
     G, fr |-lhs *lhs: a
</pre>
  A field of an anonymous struct, lhs-&gt;id, is of type a if lhs is a
  pointer to an anonymous struct s, and s maps id to the type a.
<pre>
     G, fr |-lhs lhs: s*
     getStructType(s, id) = a
    -------------------------- :: WF_StructPos
     G, fr |-lhs lhs-&gt;id: a
</pre>
  A field of a named struct, lhs-&gt;id, is of type a if lhs is a
  pointer to a named struct n, <span class="inlinecode"><a class="idref" href="Top.Types.html#typeTable"><span class="id" title="axiom">typeTable</span></a></span> maps n to an anonymous
  struct s, and s maps id to the type a.
<pre>
     G, fr |-lhs lhs: n*
     typeTable(n) = s
     getStructType(s, id) = a
    -------------------------- :: WF_NamePos
     G, fr |-lhs lhs-&gt;id: a
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="wf_lhs" class="idref" href="#wf_lhs"><span class="id" title="inductive">wf_lhs</span></a> : <a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="WF_GVar" class="idref" href="#WF_GVar"><span class="id" title="constructor">WF_GVar</span></a> : <span class="id" title="keyword">∀</span> <a id="G:15" class="idref" href="#G:15"><span class="id" title="binder">G</span></a> <a id="fr:16" class="idref" href="#fr:16"><span class="id" title="binder">fr</span></a> (<a id="vid:17" class="idref" href="#vid:17"><span class="id" title="binder">vid</span></a>: <a class="idref" href="Top.Envs.html#Var"><span class="id" title="definition">Var</span></a>) (<a id="a:18" class="idref" href="#a:18"><span class="id" title="binder">a</span></a>: <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a>) (<a id="loc:19" class="idref" href="#loc:19"><span class="id" title="binder">loc</span></a>: <a class="idref" href="Top.Envs.html#Loc"><span class="id" title="definition">Loc</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#fr:16"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#vid:17"><span class="id" title="variable">vid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Envs.html#lookUpGlobalVar"><span class="id" title="definition">lookUpGlobalVar</span></a> <a class="idref" href="Top.Syntax.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#vid:17"><span class="id" title="variable">vid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Syntax.html#loc:19"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.Syntax.html#a:18"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> <a class="idref" href="Top.Syntax.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:16"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Var"><span class="id" title="constructor">C_Var</span></a> <a class="idref" href="Top.Syntax.html#vid:17"><span class="id" title="variable">vid</span></a>) <a class="idref" href="Top.Syntax.html#a:18"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_SVar" class="idref" href="#WF_SVar"><span class="id" title="constructor">WF_SVar</span></a> : <span class="id" title="keyword">∀</span> <a id="G:20" class="idref" href="#G:20"><span class="id" title="binder">G</span></a> <a id="fr:21" class="idref" href="#fr:21"><span class="id" title="binder">fr</span></a> (<a id="vid:22" class="idref" href="#vid:22"><span class="id" title="binder">vid</span></a>: <a class="idref" href="Top.Envs.html#Var"><span class="id" title="definition">Var</span></a>) (<a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a>: <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#fr:21"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#vid:22"><span class="id" title="variable">vid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Top.Syntax.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> <a class="idref" href="Top.Syntax.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:20"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:21"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Var"><span class="id" title="constructor">C_Var</span></a> <a class="idref" href="Top.Syntax.html#vid:22"><span class="id" title="variable">vid</span></a>) <a class="idref" href="Top.Syntax.html#a:23"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Deref" class="idref" href="#WF_Deref"><span class="id" title="constructor">WF_Deref</span></a> : <span class="id" title="keyword">∀</span> <a id="G:24" class="idref" href="#G:24"><span class="id" title="binder">G</span></a> <a id="fr:25" class="idref" href="#fr:25"><span class="id" title="binder">fr</span></a> <a id="lhs:26" class="idref" href="#lhs:26"><span class="id" title="binder">lhs</span></a> <a id="a:27" class="idref" href="#a:27"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:24"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:25"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:26"><span class="id" title="variable">lhs</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> (<a class="idref" href="Top.Types.html#R_AType"><span class="id" title="constructor">R_AType</span></a> <a class="idref" href="Top.Syntax.html#a:27"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:24"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:25"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Deref"><span class="id" title="constructor">C_Deref</span></a> <a class="idref" href="Top.Syntax.html#lhs:26"><span class="id" title="variable">lhs</span></a>) <a class="idref" href="Top.Syntax.html#a:27"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_StructPos" class="idref" href="#WF_StructPos"><span class="id" title="constructor">WF_StructPos</span></a> : <span class="id" title="keyword">∀</span> <a id="G:28" class="idref" href="#G:28"><span class="id" title="binder">G</span></a> <a id="fr:29" class="idref" href="#fr:29"><span class="id" title="binder">fr</span></a> <a id="lhs:30" class="idref" href="#lhs:30"><span class="id" title="binder">lhs</span></a> <a id="id:31" class="idref" href="#id:31"><span class="id" title="binder">id</span></a> <a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a> <a id="s:33" class="idref" href="#s:33"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:28"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:29"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:30"><span class="id" title="variable">lhs</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> (<a class="idref" href="Top.Types.html#R_Struct"><span class="id" title="constructor">R_Struct</span></a> <a class="idref" href="Top.Syntax.html#s:33"><span class="id" title="variable">s</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#getStructType"><span class="id" title="definition">getStructType</span></a> <a class="idref" href="Top.Syntax.html#s:33"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.Syntax.html#id:31"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Top.Syntax.html#a:32"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:28"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:29"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_StructPos"><span class="id" title="constructor">C_StructPos</span></a> <a class="idref" href="Top.Syntax.html#lhs:30"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#id:31"><span class="id" title="variable">id</span></a>) <a class="idref" href="Top.Syntax.html#a:32"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_NamePos" class="idref" href="#WF_NamePos"><span class="id" title="constructor">WF_NamePos</span></a> : <span class="id" title="keyword">∀</span> <a id="G:34" class="idref" href="#G:34"><span class="id" title="binder">G</span></a> <a id="fr:35" class="idref" href="#fr:35"><span class="id" title="binder">fr</span></a> <a id="lhs:36" class="idref" href="#lhs:36"><span class="id" title="binder">lhs</span></a> <a id="id:37" class="idref" href="#id:37"><span class="id" title="binder">id</span></a> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder">a</span></a> <a id="n:39" class="idref" href="#n:39"><span class="id" title="binder">n</span></a> <a id="s:40" class="idref" href="#s:40"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:34"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:35"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:36"><span class="id" title="variable">lhs</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> (<a class="idref" href="Top.Types.html#R_Name"><span class="id" title="constructor">R_Name</span></a> <a class="idref" href="Top.Syntax.html#n:39"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#typeTable"><span class="id" title="axiom">typeTable</span></a> <a class="idref" href="Top.Syntax.html#n:39"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Top.Syntax.html#s:40"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#getStructType"><span class="id" title="definition">getStructType</span></a> <a class="idref" href="Top.Syntax.html#s:40"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.Syntax.html#id:37"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Top.Syntax.html#a:38"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs:13"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:34"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:35"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_NamePos"><span class="id" title="constructor">C_NamePos</span></a> <a class="idref" href="Top.Syntax.html#lhs:36"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#id:37"><span class="id" title="variable">id</span></a>) <a class="idref" href="Top.Syntax.html#a:38"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span>, <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span> |-rhs <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a></span> : <span class="inlinecode"><a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a></span> defines a well-formed
  right-hand-side that ensures that each value in a right-hand-side <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a></span>
  has an atomic type <span class="inlinecode"><a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a></span> assigned by global variables <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span> or
  stack frames <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span>.

<div class="paragraph"> </div>

  First of all, integer constants are always of type int.
<pre>
    -------------------- :: WF_Const
     G, fr |-rhs n: int
</pre>
  The size of a well-formed referent type is also a well-formed right-hand-side.
<pre>
     |-r r
    ---------------------------- :: WF_Size
     G, fr |-rhs sizeof(r): int
</pre>
  A function name fid is of type ( * )().
<pre>
     funTable(fid) = (fr, c)
    ------------------------------- :: WF_Fun
     G, fr |-rhs fid: void ( * )()
</pre>
  If this right-hand-side is derived from a left-hand-side, it is well-formed
  when the left-hand-side is well-formed.
<pre>
     G, fr |-lhs lhs: a
    -------------------- :: WF_Lhs
     G, fr |-rhs lhs: a
</pre>
  An address of a left-hand-side, &amp;lhs, is of type r* if r* is well-formed, and
  lhs is with any type a.
<pre>
     G, fr |-lhs lhs: a
     |-a a*
    ---------------------------- :: WF_Ref
     G, fr |-rhs (a* ) &amp;lhs: a*
</pre>
  A cast, (a) rhs, is well-formed if both rhs and type a are well-formed.
<pre>
     G, fr |-rhs rhs: a'
     |-a a
    ------------------------ :: WF_Cast
     G, fr |-rhs (a) rhs: a
</pre>
  We consider two kinds of additions: integer additions and pointer arithmetics.
<pre>
     G, fr |-rhs rhs1: int
     G, fr |-rhs rhs2: int
    ------------------------------ :: WF_Add_Int_Int
     G, fr |-rhs rhs1 + rhs2: int

     G, fr |-rhs rhs1: r*
     |-a r*
     G, fr |-rhs rhs2: int
    ----------------------------- :: WF_Add_Ptr_Int
     G, fr |-rhs rhs1 + rhs2: r*
</pre>
  <i>malloc</i> must allocate memory with positive size, and return a
  well-formed pointer type. The size to allocate, rhs, is also well-formed.
<pre>
     G, fr |-rhs rhs: int
     |-a r*
     sizeOfRtype(r) = size
     size &gt; 0
    ----------------------------------- :: WF_Alloc
     G, fr |-rhs (r* ) malloc(rhs): r*
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="wf_rhs" class="idref" href="#wf_rhs"><span class="id" title="inductive">wf_rhs</span></a> : <a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Types.html#AType"><span class="id" title="inductive">AType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="WF_Const" class="idref" href="#WF_Const"><span class="id" title="constructor">WF_Const</span></a> : <span class="id" title="keyword">∀</span> <a id="G:43" class="idref" href="#G:43"><span class="id" title="binder">G</span></a> <a id="fr:44" class="idref" href="#fr:44"><span class="id" title="binder">fr</span></a> <a id="n:45" class="idref" href="#n:45"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:43"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:44"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Const"><span class="id" title="constructor">C_Const</span></a> <a class="idref" href="Top.Syntax.html#n:45"><span class="id" title="variable">n</span></a>) <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Size" class="idref" href="#WF_Size"><span class="id" title="constructor">WF_Size</span></a> : <span class="id" title="keyword">∀</span> <a id="G:46" class="idref" href="#G:46"><span class="id" title="binder">G</span></a> <a id="fr:47" class="idref" href="#fr:47"><span class="id" title="binder">fr</span></a> <a id="r:48" class="idref" href="#r:48"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_RType"><span class="id" title="inductive">wf_RType</span></a> <a class="idref" href="Top.Syntax.html#r:48"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:46"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:47"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Size"><span class="id" title="constructor">C_Size</span></a> <a class="idref" href="Top.Syntax.html#r:48"><span class="id" title="variable">r</span></a>) <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Fun" class="idref" href="#WF_Fun"><span class="id" title="constructor">WF_Fun</span></a> : <span class="id" title="keyword">∀</span> <a id="G:49" class="idref" href="#G:49"><span class="id" title="binder">G</span></a> (<a id="fr:50" class="idref" href="#fr:50"><span class="id" title="binder">fr</span></a>: <a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a>) <a id="fid:51" class="idref" href="#fid:51"><span class="id" title="binder">fid</span></a> <a id="fr:52" class="idref" href="#fr:52"><span class="id" title="binder">fr</span></a> <a id="c:53" class="idref" href="#c:53"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#funTable"><span class="id" title="axiom">funTable</span></a> (<a class="idref" href="Top.Syntax.html#C_Fun"><span class="id" title="constructor">C_Fun</span></a> <a class="idref" href="Top.Syntax.html#fid:51"><span class="id" title="variable">fid</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Syntax.html#fr:52"><span class="id" title="variable">fr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.Syntax.html#c:53"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:49"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:52"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Fun"><span class="id" title="constructor">C_Fun</span></a> <a class="idref" href="Top.Syntax.html#fid:51"><span class="id" title="variable">fid</span></a>) (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Types.html#R_Func"><span class="id" title="constructor">R_Func</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Lhs" class="idref" href="#WF_Lhs"><span class="id" title="constructor">WF_Lhs</span></a> : <span class="id" title="keyword">∀</span> <a id="G:54" class="idref" href="#G:54"><span class="id" title="binder">G</span></a> <a id="fr:55" class="idref" href="#fr:55"><span class="id" title="binder">fr</span></a> <a id="lhs:56" class="idref" href="#lhs:56"><span class="id" title="binder">lhs</span></a> <a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:54"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:55"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:56"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:54"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:55"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Lhs"><span class="id" title="constructor">C_Lhs</span></a> <a class="idref" href="Top.Syntax.html#lhs:56"><span class="id" title="variable">lhs</span></a>) <a class="idref" href="Top.Syntax.html#a:57"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Ref" class="idref" href="#WF_Ref"><span class="id" title="constructor">WF_Ref</span></a> : <span class="id" title="keyword">∀</span> <a id="G:58" class="idref" href="#G:58"><span class="id" title="binder">G</span></a> <a id="fr:59" class="idref" href="#fr:59"><span class="id" title="binder">fr</span></a> <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a> <a id="lhs:61" class="idref" href="#lhs:61"><span class="id" title="binder">lhs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:58"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:59"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:61"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> (<a class="idref" href="Top.Types.html#R_AType"><span class="id" title="constructor">R_AType</span></a> <a class="idref" href="Top.Syntax.html#a:60"><span class="id" title="variable">a</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:58"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:59"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Ref"><span class="id" title="constructor">C_Ref</span></a> <a class="idref" href="Top.Syntax.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="Top.Syntax.html#lhs:61"><span class="id" title="variable">lhs</span></a>) (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> (<a class="idref" href="Top.Types.html#R_AType"><span class="id" title="constructor">R_AType</span></a> <a class="idref" href="Top.Syntax.html#a:60"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;| <a id="WF_Cast" class="idref" href="#WF_Cast"><span class="id" title="constructor">WF_Cast</span></a> : <span class="id" title="keyword">∀</span> <a id="G:62" class="idref" href="#G:62"><span class="id" title="binder">G</span></a> <a id="fr:63" class="idref" href="#fr:63"><span class="id" title="binder">fr</span></a> <a id="a:64" class="idref" href="#a:64"><span class="id" title="binder">a</span></a> <a id="rhs:65" class="idref" href="#rhs:65"><span class="id" title="binder">rhs</span></a> <a id="a':66" class="idref" href="#a':66"><span class="id" title="binder">a'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:62"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:63"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs:65"><span class="id" title="variable">rhs</span></a> <a class="idref" href="Top.Syntax.html#a':66"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> <a class="idref" href="Top.Syntax.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:62"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:63"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Cast"><span class="id" title="constructor">C_Cast</span></a> <a class="idref" href="Top.Syntax.html#a:64"><span class="id" title="variable">a</span></a> <a class="idref" href="Top.Syntax.html#rhs:65"><span class="id" title="variable">rhs</span></a>) <a class="idref" href="Top.Syntax.html#a:64"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Add_Int_Int" class="idref" href="#WF_Add_Int_Int"><span class="id" title="constructor">WF_Add_Int_Int</span></a> : <span class="id" title="keyword">∀</span> <a id="G:67" class="idref" href="#G:67"><span class="id" title="binder">G</span></a> <a id="fr:68" class="idref" href="#fr:68"><span class="id" title="binder">fr</span></a> <a id="rhs1:69" class="idref" href="#rhs1:69"><span class="id" title="binder">rhs1</span></a> <a id="rhs2:70" class="idref" href="#rhs2:70"><span class="id" title="binder">rhs2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:67"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:68"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs1:69"><span class="id" title="variable">rhs1</span></a> <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:67"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:68"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs2:70"><span class="id" title="variable">rhs2</span></a> <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:67"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:68"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Add"><span class="id" title="constructor">C_Add</span></a> <a class="idref" href="Top.Syntax.html#rhs1:69"><span class="id" title="variable">rhs1</span></a> <a class="idref" href="Top.Syntax.html#rhs2:70"><span class="id" title="variable">rhs2</span></a>) <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a><br/>
&nbsp;&nbsp;| <a id="WF_Add_Ptr_Int" class="idref" href="#WF_Add_Ptr_Int"><span class="id" title="constructor">WF_Add_Ptr_Int</span></a> : <span class="id" title="keyword">∀</span> <a id="G:71" class="idref" href="#G:71"><span class="id" title="binder">G</span></a> <a id="fr:72" class="idref" href="#fr:72"><span class="id" title="binder">fr</span></a> <a id="rhs1:73" class="idref" href="#rhs1:73"><span class="id" title="binder">rhs1</span></a> <a id="rhs2:74" class="idref" href="#rhs2:74"><span class="id" title="binder">rhs2</span></a> <a id="r:75" class="idref" href="#r:75"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:72"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs1:73"><span class="id" title="variable">rhs1</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:75"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:75"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:72"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs2:74"><span class="id" title="variable">rhs2</span></a> <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:72"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Add"><span class="id" title="constructor">C_Add</span></a> <a class="idref" href="Top.Syntax.html#rhs1:73"><span class="id" title="variable">rhs1</span></a> <a class="idref" href="Top.Syntax.html#rhs2:74"><span class="id" title="variable">rhs2</span></a>) (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:75"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Alloc" class="idref" href="#WF_Alloc"><span class="id" title="constructor">WF_Alloc</span></a> : <span class="id" title="keyword">∀</span> <a id="G:76" class="idref" href="#G:76"><span class="id" title="binder">G</span></a> <a id="fr:77" class="idref" href="#fr:77"><span class="id" title="binder">fr</span></a> <a id="r:78" class="idref" href="#r:78"><span class="id" title="binder">r</span></a> <a id="rhs:79" class="idref" href="#rhs:79"><span class="id" title="binder">rhs</span></a> <a id="size:80" class="idref" href="#size:80"><span class="id" title="binder">size</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:76"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:77"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs:79"><span class="id" title="variable">rhs</span></a> <a class="idref" href="Top.Types.html#A_Int"><span class="id" title="constructor">A_Int</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#wf_AType"><span class="id" title="inductive">wf_AType</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:78"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Types.html#sizeOfRType"><span class="id" title="definition">sizeOfRType</span></a> <a class="idref" href="Top.Syntax.html#r:78"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Top.Syntax.html#size:80"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#size:80"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs:41"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:76"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:77"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Alloc"><span class="id" title="constructor">C_Alloc</span></a> <a class="idref" href="Top.Syntax.html#r:78"><span class="id" title="variable">r</span></a> <a class="idref" href="Top.Syntax.html#rhs:79"><span class="id" title="variable">rhs</span></a>) (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:78"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span>, <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span> |-c <span class="inlinecode"><a class="idref" href="Top.Syntax.html#c_cmd"><span class="id" title="inductive">c_cmd</span></a></span> defines a well-formed command
  with respect to global variables <span class="inlinecode"><a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a></span> and stack frames <span class="inlinecode"><a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a></span>.

<div class="paragraph"> </div>

  Empty commands are trivially well-formed.
<pre>
    ---------------- :: Wf_Skip
     G, fr |-c skip
</pre>
  A sequence of commands is well-formed if each command is well-formed.
<pre>
     G, fr |-c c1
     G, fr |-c c2
    ------------------- :: Wf_Seq
     G, fr |-c c1 ; c2
</pre>
  Given an assignment, we check if the left-hand-side and the right-hand-side
  are well-formed.
<pre>
     G, fr |-lhs lhs: al
     G, fr |-rhs rhs: ar
    --------------------- :: WF_Assign
     G, fr |-c lhs = rhs
</pre>
  To check a function call, we ensure that the function address is a well-formed
  right-hand-side and the function has been stored in <span class="inlinecode"><a class="idref" href="Top.Syntax.html#funTable"><span class="id" title="axiom">funTable</span></a></span> with a local
  frame fr' and commands c', then check if c' is well-formed w.r.t G and fr'.
<pre>
     G, fr |-rhs rhs: a
     funTable(rhs) = (fr', c')
     G, fr' |-c c'
    --------------------------- :: WF_Call
     G, fr |-c rhs()
</pre>
  <i>free</i> must deallocate a well-formed right-hand-side with pointer
  types.
<pre>
     G, fr |-rhs rhs: r*
    --------------------- :: WF_Free
     G, fr |-c free(rhs)
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="wf_cmd" class="idref" href="#wf_cmd"><span class="id" title="inductive">wf_cmd</span></a> : <a class="idref" href="Top.Envs.html#GlobalVar"><span class="id" title="record">GlobalVar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Envs.html#frame"><span class="id" title="definition">frame</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.Syntax.html#c_cmd"><span class="id" title="inductive">c_cmd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="WF_Skip" class="idref" href="#WF_Skip"><span class="id" title="constructor">WF_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="G:83" class="idref" href="#G:83"><span class="id" title="binder">G</span></a> <a id="fr:84" class="idref" href="#fr:84"><span class="id" title="binder">fr</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:83"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:84"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Skip"><span class="id" title="constructor">C_Skip</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Seq" class="idref" href="#WF_Seq"><span class="id" title="constructor">WF_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="G:85" class="idref" href="#G:85"><span class="id" title="binder">G</span></a> <a id="fr:86" class="idref" href="#fr:86"><span class="id" title="binder">fr</span></a> <a id="c1:87" class="idref" href="#c1:87"><span class="id" title="binder">c1</span></a> <a id="c2:88" class="idref" href="#c2:88"><span class="id" title="binder">c2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:85"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:86"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#c1:87"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:85"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:86"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#c2:88"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:85"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:86"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Seq"><span class="id" title="constructor">C_Seq</span></a> <a class="idref" href="Top.Syntax.html#c1:87"><span class="id" title="variable">c1</span></a> <a class="idref" href="Top.Syntax.html#c2:88"><span class="id" title="variable">c2</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Assign" class="idref" href="#WF_Assign"><span class="id" title="constructor">WF_Assign</span></a> : <span class="id" title="keyword">∀</span> <a id="G:89" class="idref" href="#G:89"><span class="id" title="binder">G</span></a> <a id="fr:90" class="idref" href="#fr:90"><span class="id" title="binder">fr</span></a> <a id="lhs:91" class="idref" href="#lhs:91"><span class="id" title="binder">lhs</span></a> <a id="rhs:92" class="idref" href="#rhs:92"><span class="id" title="binder">rhs</span></a> <a id="al:93" class="idref" href="#al:93"><span class="id" title="binder">al</span></a> <a id="ar:94" class="idref" href="#ar:94"><span class="id" title="binder">ar</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_lhs"><span class="id" title="inductive">wf_lhs</span></a> <a class="idref" href="Top.Syntax.html#G:89"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:90"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#lhs:91"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#al:93"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:89"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:90"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs:92"><span class="id" title="variable">rhs</span></a> <a class="idref" href="Top.Syntax.html#ar:94"><span class="id" title="variable">ar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:89"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:90"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Assign"><span class="id" title="constructor">C_Assign</span></a> <a class="idref" href="Top.Syntax.html#lhs:91"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Top.Syntax.html#rhs:92"><span class="id" title="variable">rhs</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Call" class="idref" href="#WF_Call"><span class="id" title="constructor">WF_Call</span></a> : <span class="id" title="keyword">∀</span> <a id="G:95" class="idref" href="#G:95"><span class="id" title="binder">G</span></a> <a id="fr:96" class="idref" href="#fr:96"><span class="id" title="binder">fr</span></a> <a id="rhs:97" class="idref" href="#rhs:97"><span class="id" title="binder">rhs</span></a> <a id="a:98" class="idref" href="#a:98"><span class="id" title="binder">a</span></a> <a id="fr':99" class="idref" href="#fr':99"><span class="id" title="binder">fr'</span></a> <a id="c':100" class="idref" href="#c':100"><span class="id" title="binder">c'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:95"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:96"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs:97"><span class="id" title="variable">rhs</span></a> <a class="idref" href="Top.Syntax.html#a:98"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#funTable"><span class="id" title="axiom">funTable</span></a> <a class="idref" href="Top.Syntax.html#rhs:97"><span class="id" title="variable">rhs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Syntax.html#fr':99"><span class="id" title="variable">fr'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.Syntax.html#c':100"><span class="id" title="variable">c'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:95"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr':99"><span class="id" title="variable">fr'</span></a> <a class="idref" href="Top.Syntax.html#c':100"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:95"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:96"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Call"><span class="id" title="constructor">C_Call</span></a> <a class="idref" href="Top.Syntax.html#rhs:97"><span class="id" title="variable">rhs</span></a>)<br/>
&nbsp;&nbsp;| <a id="WF_Free" class="idref" href="#WF_Free"><span class="id" title="constructor">WF_Free</span></a> : <span class="id" title="keyword">∀</span> <a id="G:101" class="idref" href="#G:101"><span class="id" title="binder">G</span></a> <a id="fr:102" class="idref" href="#fr:102"><span class="id" title="binder">fr</span></a> <a id="rhs:103" class="idref" href="#rhs:103"><span class="id" title="binder">rhs</span></a> <a id="r:104" class="idref" href="#r:104"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_rhs"><span class="id" title="inductive">wf_rhs</span></a> <a class="idref" href="Top.Syntax.html#G:101"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:102"><span class="id" title="variable">fr</span></a> <a class="idref" href="Top.Syntax.html#rhs:103"><span class="id" title="variable">rhs</span></a> (<a class="idref" href="Top.Types.html#A_Pointer"><span class="id" title="constructor">A_Pointer</span></a> <a class="idref" href="Top.Syntax.html#r:104"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Syntax.html#wf_cmd:81"><span class="id" title="inductive">wf_cmd</span></a> <a class="idref" href="Top.Syntax.html#G:101"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.Syntax.html#fr:102"><span class="id" title="variable">fr</span></a> (<a class="idref" href="Top.Syntax.html#C_Free"><span class="id" title="constructor">C_Free</span></a> <a class="idref" href="Top.Syntax.html#rhs:103"><span class="id" title="variable">rhs</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>

<br/>
<span class="id" title="keyword">Global Hint Constructors</span> <a class="idref" href="Top.Syntax.html#c_lhs"><span class="id" title="inductive">c_lhs</span></a> <a class="idref" href="Top.Syntax.html#c_rhs"><span class="id" title="inductive">c_rhs</span></a> <a class="idref" href="Top.Syntax.html#c_cmd"><span class="id" title="inductive">c_cmd</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">WF_Const</span> <span class="id" title="var">WF_Size</span> <span class="id" title="var">WF_Fun</span> <span class="id" title="var">WF_Lhs</span> <span class="id" title="var">WF_Ref</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">WF_Cast</span> <span class="id" title="var">WF_Add_Int_Int</span> <span class="id" title="var">WF_Add_Ptr_Int</span> <span class="id" title="var">WF_Skip</span> <span class="id" title="var">WF_Seq</span> : <span class="id" title="var">core</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>